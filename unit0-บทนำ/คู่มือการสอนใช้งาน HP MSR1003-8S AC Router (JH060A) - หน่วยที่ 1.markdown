# หน่วยที่ 1: แนะนำ HP FlexNetwork MSR1003-8S AC Router (JH060A)

## วัตถุประสงค์
1. เข้าใจบทบาทและการใช้งานของ HP MSR1003-8S ในเครือข่ายองค์กรขนาดเล็กถึงกลาง
2. รู้จักส่วนประกอบฮาร์ดแวร์และซอฟต์แวร์ รวมถึงคุณสมบัติเด่นของอุปกรณ์
3. เรียนรู้ขั้นตอนการตรวจสอบและเตรียมอุปกรณ์สำหรับการตั้งค่าเริ่มต้น
4. เข้าใจบริบทการใช้งานในสถานการณ์จริง เช่น สำนักงานสาขาหรือร้านค้าปลีก
5. ฝึกการใช้คำสั่งพื้นฐานใน Command Line Interface (CLI) เพื่อตรวจสอบสถานะอุปกรณ์

## เนื้อหา

### 1.1 ภาพรวมและบทบาทของ HP MSR1003-8S
HP FlexNetwork MSR1003-8S AC Router (รหัส JH060A) เป็นเราเตอร์ในตระกูล HPE Multi-Service Router (MSR) ออกแบบสำหรับสำนักงานสาขาขนาดเล็กถึงกลาง เช่น องค์กรที่มีผู้ใช้ 10-50 คน อุปกรณ์นี้รวมฟังก์ชันหลากหลายในเครื่องเดียวเพื่อตอบสนองความต้องการของเครือข่ายสมัยใหม่ ดังนี้:
- **การกำหนดเส้นทาง (Routing)**: รองรับโปรโตคอล OSPF, BGP, RIP, IS-IS และทั้ง IPv4 และ IPv6 ทำให้เหมาะสำหรับการเชื่อมต่อเครือข่ายภายในและภายนอก
- **การสวิตชิ่ง (Switching)**: มีพอร์ต Gigabit Ethernet สำหรับเชื่อมต่ออุปกรณ์ใน LAN เช่น คอมพิวเตอร์, Access Point และเครื่องพิมพ์
- **ความปลอดภัย (Security)**: รองรับ IPSec VPN, Firewall, Access Control List (ACL) และการตรวจจับการบุกรุก (Intrusion Detection)
- **Voice over IP (VoIP)**: รองรับ Session Initiation Protocol (SIP) สำหรับระบบโทรศัพท์ในองค์กร
- **การจัดการเครือข่าย**: รองรับการตั้งค่าผ่าน Command Line Interface (CLI), Web Interface และ HPE Intelligent Management Center (IMC) สำหรับการจัดการจากระยะไกล

เราเตอร์ใช้ระบบปฏิบัติการ **Comware v7** ซึ่งเป็นแพลตฟอร์มซอฟต์แวร์ที่ออกแบบมาเพื่อความยืดหยุ่นและประสิทธิภาพสูง สามารถจัดการงานเครือข่ายที่ซับซ้อนและขยายฟังก์ชันผ่านโมดูลเสริม (SIC/DSIC) เช่น โมดูล 4G/LTE หรือ Voice Interface

### 1.2 ส่วนประกอบฮาร์ดแวร์
HP MSR1003-8S มีส่วนประกอบหลักดังต่อไปนี้:
- **พอร์ต LAN**: 8 พอร์ต Gigabit Ethernet (GE0/0 ถึง GE0/7) รองรับความเร็ว 10/100/1000 Mbps ใช้สำหรับเชื่อมต่ออุปกรณ์ภายในเครือข่าย เช่น สวิตช์, คอมพิวเตอร์ หรือ Access Point
- **พอร์ต WAN**: 2 พอร์ต Gigabit Ethernet (GE0/8 ถึง GE0/9) สำหรับเชื่อมต่อเครือข่ายภายนอก เช่น อินเทอร์เน็ตหรือสำนักงานใหญ่ผ่าน VPN
- **Smart Interface Card (SIC) Slots**: 3 ช่อง หรือใช้เป็น 1 Double-width SIC (DSIC) + 1 SIC รองรับโมดูลเสริม เช่น โมดูล 4G/LTE, Voice Interface หรือพอร์ต Ethernet เพิ่มเติม
- **พอร์ต USB 2.0**: 1 พอร์ต สำหรับสำรองข้อมูลการตั้งค่า อัปเดตซอฟต์แวร์ หรือเชื่อมต่ออุปกรณ์ภายนอก
- **พอร์ต Console**: 1 พอร์ต RJ-45 สำหรับการจัดการผ่าน CLI โดยใช้สาย Console (RJ-45 to DB9)
- **ไฟ LED**:
  - **Power LED**: สีเขียวเมื่อจ่ายไฟปกติ, สีแดงเมื่อมีปัญหา
  - **System LED**: กระพริบสีเขียวเมื่อระบบทำงานปกติ, สีเหลืองเมื่อมีข้อผิดพลาด
  - **Interface LED**: สีเขียวเมื่อพอร์ตใช้งาน, กระพริบเมื่อมีการรับส่งข้อมูล
- **หน่วยความจำและพลังงาน**:
  - หน่วยความจำ: 1 GB DDR3
  - Flash: 256 MB
  - แหล่งจ่ายไฟ: AC 100-240V, 50/60 Hz
- **ขนาดและน้ำหนัก**: ขนาด 360 x 300 x 44 mm, น้ำหนักประมาณ 3.2 กก.
- **ปุ่ม Reset**: ใช้สำหรับรีเซ็ตเป็นค่าโรงงานโดยกดค้าง 4 วินาที

### 1.3 คุณสมบัติเด่น
- **ประสิทธิภาพ**: รองรับการประมวลผลแพ็กเก็ตสูงสุด 300 Kpps (Kilopackets per second) และ Throughput สูงสุด 1 Gbps เหมาะสำหรับเครือข่ายที่มีการใช้งานปานกลาง
- **ความยืดหยุ่น**: รองรับโมดูล SIC/DSIC สำหรับเพิ่มฟังก์ชัน เช่น การเชื่อมต่อ 4G/LTE หรือพอร์ต WAN เพิ่มเติม
- **ความปลอดภัย**: รองรับ IPSec VPN สำหรับการเชื่อมต่อที่ปลอดภัย, Firewall และ ACL สำหรับควบคุมการเข้าถึง
- **การจัดการง่าย**: รองรับ CLI, Web Interface และ IMC รวมถึงการอัปเดตซอฟต์แวร์ผ่าน USB หรือ TFTP
- **รองรับ IPv6**: พร้อมสำหรับเครือข่ายยุคใหม่ที่มีการเปลี่ยนไปใช้ IPv6
- **VoIP**: รองรับ SIP และโมดูล Voice สำหรับการสื่อสารด้วยเสียงผ่านเครือข่าย IP

### 1.4 ตัวอย่างการใช้งาน
HP MSR1003-8S เหมาะสำหรับสถานการณ์ที่หลากหลาย ดังนี้:

**ตัวอย่างที่ 1: สำนักงานสาขาขนาดเล็ก (30 พนักงาน)**  
- **บริบท**: สำนักงานมีคอมพิวเตอร์ 20 เครื่อง, Access Point สำหรับ Wi-Fi, ระบบ VoIP และเครื่องพิมพ์  
- **การใช้งาน**:
  - ใช้พอร์ต LAN (GE0/0 ถึง GE0/7) เชื่อมต่อคอมพิวเตอร์, Access Point และเครื่องพิมพ์  
  - ใช้พอร์ต WAN (GE0/8) เชื่อมต่อโมเด็มอินเทอร์เน็ต และ GE0/9 สำหรับ IPSec VPN ไปยังสำนักงานใหญ่  
  - ตั้งค่าระบบ VoIP ผ่านโมดูล SIC Voice เพื่อให้พนักงานโทรภายในและภายนอก  
  - ผู้ดูแลระบบใช้ CLI หรือ Web Interface เพื่อตั้งค่าและตรวจสอบสถานะ  

**ตัวอย่างที่ 2: ร้านค้าปลีก**  
- **บริบท**: ร้านค้าปลีกที่มีเครื่อง POS 5 เครื่อง, กล้องวงจรปิด 4 ตัว และ Wi-Fi สำหรับลูกค้า  
- **การใช้งาน**:
  - เชื่อมต่อเครื่อง POS และกล้องวงจรปิดผ่านพอร์ต LAN  
  - ใช้พอร์ต WAN สำหรับเชื่อมต่ออินเทอร์เน็ตและส่งข้อมูลยอดขายไปยังสำนักงานใหญ่  
  - ตั้งค่า ACL เพื่อจำกัดการเข้าถึงกล้องวงจรปิดจากเครือข่ายภายนอก  

**ตัวอย่างที่ 3: สำนักงานชั่วคราวในไซต์งาน**  
- **บริบท**: ไซต์ก่อสร้างที่ต้องการเครือข่ายชั่วคราว  
- **การใช้งาน**:
  - ติดตั้งโมดูล 4G/LTE SIC เพื่อเชื่อมต่ออินเทอร์เน็ต  
  - ใช้พอร์ต LAN สำหรับเชื่อมต่อคอมพิวเตอร์และอุปกรณ์ IoT ในไซต์งาน  
  - สำรองการตั้งค่าผ่าน USB เพื่อความสะดวกในการย้ายอุปกรณ์  

### 1.5 ขั้นตอนการเตรียมอุปกรณ์สำหรับการใช้งาน
เพื่อเตรียม HP MSR1003-8S สำหรับการตั้งค่าเริ่มต้น ผู้เรียนต้องปฏิบัติตามขั้นตอนต่อไปนี้อย่างละเอียด:

#### ขั้นตอนที่ 1: ตรวจสอบอุปกรณ์
1. **ตรวจสอบกล่องและอุปกรณ์**:
   - ตรวจสอบว่ามีเราเตอร์, สายไฟ AC (100-240V), สาย Console (RJ-45 to DB9), และคู่มือการใช้งานครบถ้วน  
   - ตรวจสอบว่าไม่มีชิ้นส่วนเสียหาย เช่น พอร์ตชำรุดหรือตัวเครื่องมีรอยแตก  
2. **ระบุพอร์ตและส่วนประกอบ**:
   - พอร์ต LAN: GE0/0 ถึง GE0/7 (8 พอร์ต)  
   - พอร์ต WAN: GE0/8 ถึง GE0/9 (2 พอร์ต)  
   - พอร์ต Console: RJ-45 ด้านหน้าหรือด้านหลัง (ขึ้นอยู่กับรุ่น)  
   - SIC Slots: 3 ช่อง ด้านหลังเครื่อง  
   - USB 2.0: 1 พอร์ต สำหรับสำรองข้อมูล  
   - ปุ่ม Reset: ใช้สำหรับรีเซ็ตเป็นค่าโรงงาน  
3. **บันทึกข้อมูลสำคัญ**:
   - จด Serial Number (อยู่ที่ด้านหลังเครื่อง) สำหรับการลงทะเบียนหรือติดต่อ HPE Support  
   - ตรวจสอบโมดูล SIC ที่ติดตั้ง (ถ้ามี) เช่น โมดูล Voice หรือ 4G/LTE  

#### ขั้นตอนที่ 2: ต่อสายไฟและตรวจสอบไฟ LED
1. **ต่อสายไฟ**:
   - เสียบสายไฟ AC เข้ากับพอร์ต Power ด้านหลังของเราเตอร์  
   - ต่อปลายอีกด้านเข้ากับเต้าเสียบ AC (100-240V, 50/60 Hz)  
   - ใช้ UPS (Uninterruptible Power Supply) เพื่อป้องกันไฟกระชาก  
2. **รอการบูต**:
   - เราเตอร์ใช้เวลาประมาณ 1-2 นาทีในการเริ่มระบบและโหลด Comware v7  
   - ระหว่างบูต ไฟ System LED จะกระพริบสีเขียว  
3. **ตรวจสอบไฟ LED**:
   - **Power LED**: สีเขียวเมื่อจ่ายไฟปกติ, สีแดงหากมีปัญหาการจ่ายไฟ  
   - **System LED**: กระพริบสีเขียวเมื่อระบบทำงานปกติ, สีเหลืองหรือแดงหากมีข้อผิดพลาด  
   - **Interface LED**: สีเขียวเมื่อพอร์ตเชื่อมต่อ, กระพริบเมื่อมีการรับส่งข้อมูล  
   - หาก LED แสดงสถานะผิดปกติ (เช่น สีแดง) ให้ตรวจสอบสายไฟหรือติดต่อ HPE Support  

#### ขั้นตอนที่ 3: เชื่อมต่อพอร์ต Console
1. **เตรียมอุปกรณ์**:
   - คอมพิวเตอร์ที่มีพอร์ต Serial หรือ USB-to-Serial Adapter  
   - สาย Console (RJ-45 to DB9) ที่มาพร้อมเราเตอร์  
   - โปรแกรม Terminal Emulator เช่น PuTTY, Tera Term หรือ SecureCRT  
2. **เชื่อมต่อสาย Console**:
   - เสียบปลาย RJ-45 เข้ากับพอร์ต Console ของเราเตอร์  
   - เสียบปลาย DB9 เข้ากับพอร์ต Serial ของคอมพิวเตอร์ หรือใช้ USB-to-Serial Adapter  
   - ตรวจสอบว่าสายเชื่อมต่อแน่นหนาเพื่อป้องกันการหลุด  
3. **ตั้งค่าโปรแกรม Terminal Emulator**:
   - เปิด PuTTY และเลือก Connection Type เป็น "Serial"  
   - ตั้งค่าพารามิเตอร์:
     - **Serial Port**: COM1 หรือพอร์ตที่คอมพิวเตอร์กำหนด (ตรวจสอบใน Device Manager)  
     - **Baud Rate**: 9600  
     - **Data Bits**: 8  
     - **Parity**: None  
     - **Stop Bits**: 1  
     - **Flow Control**: None  
   - คลิก "Open" เพื่อเริ่มเซสชัน  
4. **ทดสอบการเชื่อมต่อ**:
   - หากเชื่อมต่อสำเร็จ จะเห็น Command Prompt ของ Comware v7 เช่น `<HP>`  
   - หากไม่เห็น Prompt ตรวจสอบสาย Console, พอร์ต COM หรือการตั้งค่า Baud Rate  
5. **ตรวจสอบสถานะเริ่มต้น**:
   - พิมพ์คำสั่ง `display version` เพื่อดูเวอร์ชันซอฟต์แวร์ Comware และวันที่ออกซอฟต์แวร์  
     ```
     <HP> display version
     ```
     ตัวอย่างผลลัพธ์:
     ```
     HPE Comware Software, Version 7.1.070, Release 6749P14
     Copyright (c) 2010-2023 Hewlett Packard Enterprise Development LP
     ```
   - พิมพ์คำสั่ง `display device` เพื่อดูข้อมูลฮาร์ดแวร์และสถานะพอร์ต  
     ```
     <HP> display device
     ```
     ตัวอย่างผลลัพธ์:
     ```
     Slot  Type        State    Subslot  PortNum
     0     MSR1003-8S  Normal   3        10
     ```

### 1.6 ข้อควรระวัง
- **ความปลอดภัยทางกายภาพ**: วางเราเตอร์ในที่ที่มีอากาศถ่ายเทดี อุณหภูมิ 0-45°C และความชื้น 5-90% (ไม่ควบแน่น)  
- **การจัดการพลังงาน**: หลีกเลี่ยงการเสียบ/ถอนปลั๊กไฟบ่อยๆ และใช้ UPS เพื่อป้องกันไฟกระชาก  
- **การจัดการสาย**: จัดระเบียบสาย Console, LAN และ WAN เพื่อป้องกันการหลุดหรือเสียหาย  
- **รหัสผ่านเริ่มต้น**: Web Interface ใช้รหัส admin/admin ควรเปลี่ยนทันทีหลังการตั้งค่าเพื่อความปลอดภัย  
- **การรีเซ็ต**: หากกดปุ่ม Reset ค้างเกิน 4 วินาที การตั้งค่าทั้งหมดจะถูกล้าง ควรสำรองข้อมูลก่อน  

### 1.7 กิจกรรมปฏิบัติ
1. **ตรวจสอบอุปกรณ์**:
   - ให้ผู้เรียนตรวจสอบกล่องและส่วนประกอบของ MSR1003-8S ในห้องปฏิบัติการ  
   - บันทึก Serial Number และตรวจสอบว่ามีโมดูล SIC ติดตั้งหรือไม่  
2. **เชื่อมต่อสาย Console**:
   - ให้ผู้เรียนต่อสาย Console จากเราเตอร์ไปยังคอมพิวเตอร์  
   - เปิด PuTTY และตั้งค่า Serial เพื่อเข้าสู่ CLI  
3. **ทดสอบคำสั่ง CLI**:
   - พิมพ์ `display version` และ `display device` เพื่อบันทึกผลลัพธ์  
   - รายงานสถานะ LED (Power, System, Interface) หลังเปิดเครื่อง  

### 1.8 คำถามทบทวน
1. HP MSR1003-8S เหมาะสำหรับการใช้งานในสถานการณ์ใดบ้าง และมีตัวอย่างการใช้งานในองค์กรอย่างไร?  
2. อธิบายความแตกต่างระหว่างพอร์ต LAN, WAN และ Console รวมถึงการใช้งานของแต่ละพอร์ต  
3. การใช้คำสั่ง `display version` และ `display device` มีประโยชน์อย่างไรในการตรวจสอบสถานะเราเตอร์?  

### 1.9 ข้อมูลเพิ่มเติม
- อ้างอิงจากเอกสาร HPE (https://arubanetworking.hpe.com/techdocs/comware/RN/HPEMSR1000_2000_3000_4000_9XX_CMW710R6749P14RN.pdf)  
- ผู้เรียนสามารถค้นหาข้อมูลเพิ่มเติมจาก HPE Support (support.hpe.com) หรือ HPE Product Page (buy.hpe.com)  
- หากต้องการติดตั้งโมดูล SIC เช่น 4G/LTE ควรตรวจสอบความเข้ากันได้จากคู่มือโมดูล